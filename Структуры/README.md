# Структуры в C++

Структуры в C++ - это пользовательские типы данных, которые могут содержать различные типы данных, включая другие структуры. Они могут использоваться для создания более сложных типов данных, таких как записи или объекты.

## Объявление структуры

Структура объявляется с помощью ключевого слова `struct`, за которым следует имя структуры и фигурные скобки, в которых определяются ее поля:

```c++
struct Person {
    string name;
    int age;
    float height;
};
```

## Объявление переменной структуры

Переменная структуры объявляется так же, как и переменная другого типа данных, но с указанием имени структуры:

```c++
Person person1;
```

## Инициализация переменной структуры

Переменная структуры может быть инициализирована при объявлении:

```c++
Person person2 = {"John", 25, 1.75};
```

Структуру можно инициализировать при ее объявлении или позже с помощью оператора присваивания. При инициализации можно указывать значения для всех полей структуры или только для некоторых из них:

```cpp
Person p1 = {"John", 25, 1.75};
Person p2;
p2.name = "Mary";
p2.age = 30;
```

## Доступ к полям структуры

Поля структуры могут быть получены через оператор точки `.`:

```c++
cout << person2.name << endl;
cout << person2.age << endl;
cout << person2.height << endl;
```

## Функции в структурах

Структуры в C++ могут содержать не только данные, но и функции, которые могут использоваться для выполнения различных операций с объектами структуры. Функции могут иметь доступ к полям данных структуры и могут быть вызваны для любого объекта структуры.

Синтаксис определения функции выглядит так:

```cpp
struct Person {
    string name;
    int age;
    float height;
    
    void printInfo() {
        cout << "Name: " << name << endl;
        cout << "Age: " << age << endl;
        cout << "Height: " << height << endl;
    }
};
```

В этом примере определена функция `printInfo()`, которая выводит на экран информацию о полях структуры `Person`. Функция объявляется внутри структуры и имеет доступ к ее данных.

Функции могут быть полезны во многих случаях. Например, если у структуры есть поля, которые должны быть обработаны определенным образом, то можно определить функцию, которая будет выполнять эту обработку. Это может упростить код и сделать его более понятным.

Функции также могут использоваться для выполнения других операций с объектами структуры. Например, если у структуры есть поля, которые зависят от других полей, то можно определить функцию, которая будет вычислять эти зависимости.

Для вызова функции нужно использовать оператор точки (`.`):

```cpp
Person p1 = {"John", 25, 1.75};
p1.printInfo();
```

В этом примере вызывается функция `printInfo()` для объекта `p1` структуры `Person`.

Таким образом, функции - это мощный инструмент, который может быть использован для выполнения различных операций с объектами структуры. Они могут иметь доступ к полям структуры и могут быть вызваны для любого объекта структуры.

## Конструкторы
Конструкторы - это специальные методы, которые вызываются при создании объекта структуры или класса. Они могут использоваться для инициализации полей структуры или класса или выполнения других операций при создании объекта. Конструкторы могут быть перегружены, то есть иметь различные параметры.

Синтаксис конструктора выглядит так:

```cpp
struct Person {
    string name;
    int age;
    float height;
    
    Person() {
        name = "";
        age = 0;
        height = 0.0;
    }
    
    Person(string n, int a, float h) {
        name = n;
        age = a;
        height = h;
    }
};

int main() {
    Person p1; // Вызван первый конструктор
    Person p2("Alice", 22, 4.5); // Вызван второй конструктор
}
```

В этом примере определены два конструктора для структуры `Person`. Первый конструктор без параметров инициализирует все поля структуры значениями по умолчанию. Второй конструктор принимает три параметра и используется для инициализации полей структуры значениями, переданными в параметрах.

Конструкторы могут быть полезны во многих случаях. Например, если у структуры или класса есть поля, которые должны быть инициализированы определенными значениями при создании объекта, то можно определить конструктор, который будет выполнять эту инициализацию. Это может упростить код и сделать его более понятным.

Конструкторы также могут использоваться для выполнения других операций при создании объекта. Например, если у структуры или класса есть поля, которые зависят от других полей, то можно определить конструктор, который будет вычислять эти зависимости при создании объекта.

Конструкторы могут быть перегружены, то есть иметь различные параметры. Это может быть полезно, если у структуры или класса есть несколько способов инициализации или если требуется создать объект с различными параметрами.

В целом, конструкторы - это мощный инструмент, который может быть использован для упрощения кода и выполнения различных операций при создании объекта структуры или класса.

## Операторы сравнения

Операторы сравнения (`==`, `!=`, `<`, `>`, `<=`, `>=`) могут быть перегружены для структур, чтобы сравнивать объекты структуры по их полям. Для этого нужно определить соответствующие методы.

```cpp
struct Person {
    string name;
    int age;
    float height;
    
    bool operator==(const Person& other) const {
        return name == other.name && age == other.age && height == other.height;
    }
    
    bool operator!=(const Person& other) const {
        return !(*this == other);
    }
    
    bool operator<(const Person& other) const {
        return age < other.age;
    }
};
```


## Структуры в функциях

Структуры могут быть переданы в функцию в качестве аргумента:

```c++
void printPerson(Person person) {
    cout << "Name: " << person.name << endl;
    cout << "Age: " << person.age << endl;
    cout << "Height: " << person.height << endl;
}
```

## Указатели на структуры

Указатели на структуры могут быть объявлены и использованы так же, как и указатели на другие типы данных:

```c++
Person *personPtr;
personPtr = &person1;
cout << personPtr->name << endl;
cout << personPtr->age << endl;
cout << personPtr->height << endl;
```

## Динамическое выделение памяти для структуры

Структура может быть динамически выделена в памяти с помощью оператора `new`:

```c++
Person *personPtr = new Person;
```

## Освобождение памяти

После использования динамически выделенной структуры необходимо освободить память с помощью оператора `delete`:

```c++
delete personPtr;
```

## Заключение

Структуры в C++ - это мощный инструмент для создания пользовательских типов данных. Они могут быть использованы для создания более сложных типов данных, таких как записи или объекты. Они также могут быть переданы в функции и использованы с указателями и динамическим выделением памяти.
## Практика

### Табло для аэропорта

<img src="board.jpg">

Напишем программу, которая выводит на экран табло аэропорта. На табло должны быть выведены следующие данные:

  * Номер рейса (генерируем случайно)
  * Время вылета (генерируем случайно)
  * Направление (город), читаем из файла список городов и выбираем случайно
  * Выход (Gate) - генерируем случайно, буква от A до D, затем цифра от 1 до 50. Отображается только, если статус рейса "Идёт посадка".
  * Статус рейса - если вылет будет в ближайшие 50 минут от реального времени, то статус "Идёт посадка" или "Boarding", иначе "Выход откроется в <время вылета - 50 минут>" или "Gate opens ..."

Сгенерируем 200-500 рейсов.

Строки должны быть отсортированы по времени вылета. Время вылета должно быть отформатировано в формате часы:минуты. Отображать будем только те рейсы, которые в данный момент по системному времени еще не вылетели. При этом будем обновлять табло в реальном времени, каждую минуту, и если какой-то рейс вылетел минуту назад, то его уже не отображаем.

### Структура TripleInt

Создать структуру, аналогичную структуре pair, которая хранит в себе 3 значения int: first, second и third. Определить операторы сравнения: <, >, <=, >=, ==, !=. Со знаками неравенства такая логика: первая структура больше второй, если first в первой структуре больше first во второй. Если они равны, проверяем аналогично second и т.д. Если все поля равны, структуры равны. Постарайтесь не копипастить код из одного оператора в другой: помните, что функция одного оператора может вызывать функцию другого оператора. Поэтому, например, оператор == может просто вызвать опервтор != и инвертировать его. Когда сделаете, запустите такой код. Он должен выводить то, что написано в комментариях.
```c++
void test() {
    TripleInt a = {1, 1, 1};
    TripleInt b = {1, 1, 1};
    TripleInt c = {1, 1, 2};
    TripleInt d = {2, 1, 1};
    
    cout << a == b << endl; // 1
    cout << a != b << endl; // 0
    cout << a < b << endl;  // 0
    cout << a <= b << endl; // 1
    cout << c > b << endl;  // 1
    cout << c == b << endl; // 0
    cout << d > c << endl; // 1
    cout << d <= a << endl; // 0
    cout << c == d << endl; // 0
}
```
Дополнительно:
1. Сделайте, чтобы можно было обращаться по индексу, т.е. по [0] мы получаем first, по [1] - second и т.д.
2. Сделайте оператор +, чтобы TripleInt можно было складывать. Логика как при сложении векторов из математики
3. Сделайте конструктор для TripleInt, куда передаем 3 числа и откуда присваиваются поля a, b, c.
4. Сделайте функцию toString(), которая будет преобразовывать эту структуру в строку.

### Создание Pip-Boy на C++

<img src="https://static.wikia.nocookie.net/fallout/images/7/72/Fallout4_E3_PipBoy.png/revision/latest?cb=20150615125852"></img>

#### Описание задания
В этом задании вы будете создавать простой Pip-Boy в консоли на языке C++. Pip-Boy - это устройство, которое используется в игре Fallout для управления персонажем и просмотра его статистики.

Ваш Pip-Boy должен иметь следующие функции:
1. Отображение статистики персонажа (здоровье, энергия, опыт и т.д.) в виде таблицы.
2. Возможность сохранять и загружать статистику персонажа в файл.
3. Возможность добавлять новые элементы статистики (например, новые оружия или броню) и сохранять их в файл.
4. И самое главное: он должен выводиться зеленым цветом!

Смотрите примерный вид, чтобы лучше понять, что нужно выводить.

#### Примерный план реализации
1. Создайте структуру для хранения информации о персонаже (здоровье, энергия, опыт и т.д.).
2. Создайте структуру для хранения SPECIAL (Strength, Perception, Endurance, Charisma, Intelligence, Agility, and Luck) и включите её в структуру персонажа.
3. Создайте функцию для отображения статистики персонажа в виде таблицы.
4. Создайте функции для сохранения и загрузки статистики персонажа в файл.
5. Создайте функцию для добавления новых элементов в инвентарь и сохранения их в файл.
6. Создайте функцию для добавления опыта персонажу. Прогресс-бар внизу должен измениться после этого.

> Нужно продумать, в каком виде всё будет храниться в файле сохранения

#### Примерный вид Pip-Boy в консоли
```
|========================================================================|
|      STAT         [INV]        DATA            MAP          RADIO      |
|------------------------------------------------------------------------|
| Weapon: 10mm pistol                                                    |  
| Armor:                                                                 |
|   - Pilot glasses                                                      |
|   - Сanvas tunic                                                       |
|   - Boots                                                              |
| Inventory:                                                             |
|   - Medkit (16)                                                        |
|   - Bullets (280)                                                      |
|   - Square pants                                                       |
|   - Shotgun                                                            |
| Special:                                                               |
|   - Strength: 5                                                        |   
|   - Perception: 4                                                      |     
|   - Endurance: 5                                                       |     
|   - Charisma: 4                                                        |   
|   - Intelligence: 7                                                    |       
|   - Agility: 6                                                         |   
|   - Luck: 4                                                            | 
|------------------------------------------------------------------------|
| HP: 95/100   | Level 17 [==========                    ] |   AP: 50/70 |
|========================================================================|
```
Вот ASCII-ART для тех, кто хочет его добавить:
```
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⣿⠿⣷⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⣶⣤⣤⣴⣿⠟⠁⠀⠈⠛⠿⣿⣿⣶⣶⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⢀⣴⣶⣇⠀⢀⣴⣿⠟⠉⠉⠙⠛⠁⠀⠀⠀⠀⠀⠀⠀⠈⠉⠻⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢀⣿⡟⠙⢿⣿⣿⠟⠁⠀⠀⠀⠀⠀⠀⠀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠸⣿⡇⠀⠀⠀⠀⠀⢀⡴⠶⢦⣄⣀⣤⠾⠛⠛⣧⡀⠀⠀⠀⠀⠀⠀⠈⠛⢿⣿⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢠⣿⣇⠀⠀⠀⠀⣴⠋⠀⠀⠀⠈⠉⠁⠀⠀⠀⠈⠻⣦⣤⡤⠶⠻⢿⣦⠀⠀⢻⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⣿⠉⢳⣶⢶⡿⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡀⠀⠀⠀⠀⠀⠀⠀⣿⠁⠀⠀⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠘⣿⣄⡾⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠄⠀⠀⠀⠀⢠⡼⠋⠀⠀⠀⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⢹⡿⠁⠀⢀⣾⡇⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⡀⠀⠀⠀⠀⠀⠠⣝⢦⡀⠀⠀⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢀⣿⠇⠀⠀⠘⣿⠇⠀⠀⢀⠎⠀⠀⠀⠘⠛⠛⠿⠆⠀⠀⠀⠀⠠⣝⢧⡳⡄⣸⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⣿⠀⠀⠀⠀⠀⠀⢠⡾⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢢⣜⢷⣽⣷⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⡏⠀⠀⠀⠀⠀⠀⢿⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠆⣹⣿⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⣇⠀⠀⠀⠀⠀⠀⠈⠛⠂⠀⠀⠀⠀⢠⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⢸⣿⠀⠀⣾⣤⣀⣀⣀⢀⣀⣀⣀⡤⠔⠚⢿⣷⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⣿⣇⠀⠻⠳⢤⣈⣉⠉⠉⠀⣀⣀⣤⠖⠋⠟⠀⠀⠀⠀⠀⠀⢀⣀⣠⣾⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠘⣿⣆⠀⠀⠀⠈⠙⣛⣛⠛⠛⠉⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⠿⠛⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠘⢿⣧⡀⠀⠀⠈⠛⠛⠃⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⣿⡿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠈⠻⣿⣦⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⣿⡿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠈⠙⠿⣿⣶⣦⣤⣤⣤⣤⣶⣶⣿⠿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠉⠉⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
```⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
#### Как выставляю баллы:
1. За готовые структуры - 0.5
2. За функции сохранения и загрузки - по 0.5 за каждую функцию
3. За красивый вывод в консоль: 0.75 - 1.25
4. За зеленый цвет: 0.25
